const passwordInput=document.getElementById("password"),strengthIndicator=document.getElementById("strength-indicator"),strengthPercentage=document.getElementById("strength-percentage"),showPasswordCheckbox=document.getElementById("showPassword"),criteria=[{regex:/[a-z]/,weight:1,description:"Lowercase letter"},{regex:/[A-Z]/,weight:2,description:"Uppercase letter"},{regex:/\d/,weight:2,description:"Digit"},{regex:/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+/,weight:3,description:"Special character"},{min:8,weight:2,description:"Minimum 8 characters"},{min:12,weight:3,description:"Minimum 12 characters"},{test:t=>!isCommonPassword(t),weight:3,description:"Not a common password"},{test:t=>!hasSequentialCharacters(t),weight:3,description:"No sequential characters"},{test:t=>!hasRepeatedCharacters(t),weight:3,description:"No repeated characters"},{test:t=>hasMixedCharacterTypes(t),weight:2,description:"Mixed character types"},{test:t=>hasUncommonCharacters(t),weight:2,description:"Contains uncommon characters"}];function isCommonPassword(t){return["password","123456","qwerty","abc123"].includes(t)}function hasMixedCharacterTypes(t){let e=/[a-z]/.test(t),r=/[A-Z]/.test(t),s=/\d/.test(t),n=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+/.test(t);return e&&r&&s&&n}function hasUncommonCharacters(t){return/[^\w!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]+/.test(t)}function hasSequentialCharacters(t){for(let e of["abcdefghijklmnopqrstuvwxyz","zyxwvutsrqponmlkjihgfedcba","ABCDEFGHIJKLMNOPQRSTUVWXYZ","ZYXWVUTSRQPONMLKJIHGFEDCBA","01234567890"])if(t.includes(e))return!0;return!1}function hasRepeatedCharacters(t){return/(.)\1{2,}/.test(t)}function calculatePasswordStrength(t){if(0===t.length)return 0;if(1===t.length)return 10;if(2===t.length)return 20;if(3===t.length)return 25;let e=0,r=0;for(let s of criteria)s.regex&&s.regex.test(t)?(e+=s.weight,r++):s.min&&t.length>=s.min?(e+=s.weight,r++):s.test&&s.test(t)&&(e+=s.weight,r++);let n=Math.min(r,5),i=e+n;return Math.min(100,Math.round(i/30*100))}function getColorForStrength(t){return["#ff0000","#ff3300","#ff6600","#ff9900","#ffcc00","#ffff00","#ccff00","#99ff00","#66ff00","#00ff00"][Math.min(Math.floor(t/10),9)]}function updatePasswordStrength(){let t=passwordInput.value,e=calculatePasswordStrength(t),r=getColorForStrength(e);strengthIndicator.style.width=`${e}%`,strengthIndicator.style.backgroundColor=r,strengthPercentage.textContent=`${e}%`}function togglePasswordVisibility(){passwordInput.type=showPasswordCheckbox.checked?"text":"password"}passwordInput.addEventListener("input",updatePasswordStrength),showPasswordCheckbox.addEventListener("change",togglePasswordVisibility);
